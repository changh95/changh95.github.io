<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"changh95.github.io","root":"/","images":"/images","scheme":"Pisces","version":"8.0.2","exturl":true,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"disqus","active":false,"storage":false,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":"auto","trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="모션블러가 생기는 원인과 모션블러를 없애는 방법에 대해 알아봅니다.">
<meta property="og:type" content="article">
<meta property="og:title" content="모션 블러란? 모션 블러를 없애는 방법은?">
<meta property="og:url" content="https://changh95.github.io/20210329-motion-blur/index.html">
<meta property="og:site_name" content="cv-learn">
<meta property="og:description" content="모션블러가 생기는 원인과 모션블러를 없애는 방법에 대해 알아봅니다.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/Untitled.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/Untitled_1.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/Untitled_2.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/Untitled_3.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/Untitled_4.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/Untitled_5.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/Untitled_6.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/pro.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/blur.jpg">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/before_fix.jpg">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/comparison.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/comp2.png">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/1.gif">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/2.gif">
<meta property="og:image" content="https://changh95.github.io/20210329-motion-blur/3.gif">
<meta property="article:published_time" content="2021-03-29T09:34:58.000Z">
<meta property="article:modified_time" content="2023-06-09T06:12:01.839Z">
<meta property="article:author" content="cv-learn">
<meta property="article:tag" content="Camera">
<meta property="article:tag" content="Imaging">
<meta property="article:tag" content="Motion blur">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://changh95.github.io/20210329-motion-blur/Untitled.png">


<link rel="canonical" href="https://changh95.github.io/20210329-motion-blur/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>
<title>모션 블러란? 모션 블러를 없애는 방법은? | cv-learn</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">cv-learn</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Vision, SLAM, Spatial AI</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%AA%A8%EC%85%98-%EB%B8%94%EB%9F%AC%EB%9E%80"><span class="nav-number">1.</span> <span class="nav-text">모션 블러란?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%AA%A8%EC%85%98-%EB%B8%94%EB%9F%AC%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A7%80%EC%9A%B0%EB%8A%94-%EA%B2%83%EC%9D%B8%EA%B0%80-%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4"><span class="nav-number">2.</span> <span class="nav-text">모션 블러는 어떻게 지우는 것인가? (소프트웨어)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%A7%84%EC%A7%9C-%EB%AA%A8%EC%85%98-%EB%B8%94%EB%9F%AC%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A7%80%EC%9A%B0%EB%8A%94%EA%B1%B0%EC%A7%80-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4"><span class="nav-number">3.</span> <span class="nav-text">진짜 모션 블러는 어떻게 지우는거지? (하드웨어)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%EC%B9%B4%EB%A9%94%EB%9D%BC%EC%9D%98-%EC%9B%90%EB%A6%AC"><span class="nav-number">3.1.</span> <span class="nav-text">2.1 카메라의 원리</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%AA%A8%EC%85%98%EB%B8%94%EB%9F%AC%EC%9D%98-%EC%9B%90%EB%A6%AC"><span class="nav-number">3.2.</span> <span class="nav-text">모션블러의 원리</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ISO-%EA%B0%92-%EC%A1%B0%EC%A0%95%ED%95%98%EA%B8%B0"><span class="nav-number">3.3.</span> <span class="nav-text">ISO 값 조정하기</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%8A%A4%EB%A7%88%ED%8A%B8%ED%8F%B0%EC%97%90%EC%84%9C-%EB%AA%A8%EC%85%98%EB%B8%94%EB%9F%AC-%EC%A7%80%EC%9A%B0%EA%B8%B0"><span class="nav-number">4.</span> <span class="nav-text">스마트폰에서 모션블러 지우기</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%A8%B8%EC%8B%A0-%EB%B9%84%EC%A0%84-%EC%B9%B4%EB%A9%94%EB%9D%BC-Scientific-Camera%EB%A1%9C-%EB%AA%A8%EC%85%98-%EB%B8%94%EB%9F%AC-%EC%A0%9C%EA%B1%B0%ED%95%98%EA%B8%B0"><span class="nav-number">5.</span> <span class="nav-text">머신 비전 카메라 &#x2F; Scientific Camera로 모션 블러 제거하기</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C-%EC%86%8C%EC%8A%A4"><span class="nav-number">6.</span> <span class="nav-text">참고자료 + 소스</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">cv-learn</p>
  <div class="site-description" itemprop="description">Vision, SLAM, Spatial AI</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">236</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">329</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoYW5naDk1" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;changh95"><i class="fab fa-github fa-fw"></i></span>
      </span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://changh95.github.io/20210329-motion-blur/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="cv-learn">
      <meta itemprop="description" content="Vision, SLAM, Spatial AI">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="cv-learn">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          모션 블러란? 모션 블러를 없애는 방법은?
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-03-29 18:34:58" itemprop="dateCreated datePublished" datetime="2021-03-29T18:34:58+09:00">2021-03-29</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2023-06-09 15:12:01" itemprop="dateModified" datetime="2023-06-09T15:12:01+09:00">2023-06-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/1-Spatial-AI/" itemprop="url" rel="index"><span itemprop="name">1. Spatial AI</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/1-Spatial-AI/1-3-Computer-Vision-Imaging/" itemprop="url" rel="index"><span itemprop="name">1.3 Computer Vision & Imaging</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/1-Spatial-AI/1-3-Computer-Vision-Imaging/%EC%B9%B4%EB%A9%94%EB%9D%BC-%EA%B8%B0%EC%B4%88-%EC%8B%9C%EB%A6%AC%EC%A6%88/" itemprop="url" rel="index"><span itemprop="name">카메라 기초 시리즈</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <blockquote>
<p>“나는 배경 지식은 알고싶지 않아! 곧바로 결과를 보고싶어!” 라고 생각하신다면 스크롤을 쭉 내리셔서 4번 챕터의 비디오를 봐주세요! 스마트폰으로 블러 최소화 하는 방법도 밑으로 스크롤을 쭉 내려서 3번 챕터로 가주세요! :) </p>
</blockquote>
<p> </p>
<h2 id="모션-블러란"><a href="#모션-블러란" class="headerlink" title="모션 블러란?"></a>모션 블러란?</h2><p>모션 블러는 영상기기로 영상을 취득하면서, 피사체가 움직이면서 잔상이 남는 영상 아티팩트이다…라고 하면 어려우니까, 사진 찍을 때 <strong>움직여서 번지는걸 모션 블러</strong>라고 한다 :)</p>
<p>모션 블러는 기존의 사진 및 영상 촬영에서는 물체의 자연스러운 움직임을 표현하기 위해 꼭 들어가야하는 요소이다.</p>
<p>그러나, <strong>로보틱스 비전</strong>와 <strong>딥러닝 비전</strong> 등 영상을 분석해서 주위 환경에 대해 이해하고 정보를 추출하려고 하는 목적을 지닐 때에 <strong>모션 블러는 굉장히 골칫거리</strong>가 될 수 있다. 비-딥러닝 방식의 영상처리이던지, CNN 딥러닝의 컨벌루션 방식이라던지, 영상을 분석하기 위해서는 점과 선 등의 low-level feature를 조합해서 high-level 지식을 추출해야하는데, 모션 블러는 이 점과 선을 흐리게 하기 때문에 high-level 지식을 추출하기 더 어려워진다. 그러므로, <strong>모션 블러는 가능하면 최대한 피해야한다!</strong></p>
<img src="/20210329-motion-blur/Untitled.png" class="" title="goddamnit">

<p>디텍션 + 트랙킹을 수행할 때, 여러가지 급격한 이미지 변화를 나타내는 이유 중 몇개를 보여주는 이미지입니다. (d) Abrupt motions는 갑작스러운 움직임에 피사체 및 주위 환경이 흐려져 보이는 것을 뜻 하는데, 이는 모션 블러 효과도 포함된다고 볼 수 있습니다. </p>
<p>이 이미지는 ICCV 2015년 “Hierarchical Convolutional Features for Visual Tracking” 이라는 자료에서 발췌했습니다.</p>
<p> </p>
<hr>
<h2 id="모션-블러는-어떻게-지우는-것인가-소프트웨어"><a href="#모션-블러는-어떻게-지우는-것인가-소프트웨어" class="headerlink" title="모션 블러는 어떻게 지우는 것인가? (소프트웨어)"></a>모션 블러는 어떻게 지우는 것인가? (소프트웨어)</h2><p>모션 블러 효과를 지워주는 연구가 없던것은 아니다. 영상 속 픽셀들에 대해 수학적 방법으로 ‘이 픽셀은 모션 블러 효과를 받은 것인가?’를 판별해서, 블러 효과를 지워보려는 연구가 많이 있었다. 하지만 효과적으로 사용할 수 있는 방법은 결국 나타나지 않았다. </p>
<p>첫번째 이유는 <strong>정확도가 많이 높지 않았다</strong>. 모션 블러가 있는 이미지만을 가지고 모션 블러가 전혀 없는 깨끗한 이미지를 만들어내기는 수학적으로 쉽지 않다. 어떤 방법으로 모션 블러를 인식하고, 어떤 방법으로 지우는게 효과적이고, 어떤 방법으로 변환된 이미지에서 깨끗한 모양을 복원할까? 아무리 많은 데이터를 모으고 좋은 모델을 만들어도 이게 가능할까? 모션 블러 제거라는 문제는 단순히 더러운 데이터에서 깨끗한 데이터를 검출해내는게 아니라, 깨끗한 데이터의 정보가 거의 존재하지 않는 데이터에서 깨끗한 데이터를 추출하는 과정이다. 모션 블러가 조금만 있다면 할만 할 수도 있겠다. 근데 모션블러가 이미지를 거의 뒤덮으면 어떻게 풀어야할까?</p>
<p>두번째 이유는 <strong>속도가 굉장히 느렸다</strong>. 모션 블러를 인식해본다고 하자. 어떠한 픽셀을 기점으로 주위에 픽셀값들을 하나하나 비교해보면서 블러가 있는지 없는지를 확인해봐야한다. X 방향으로도 확인하고, Y 방향으로도 확인한다. 모션 블러를 지우는 연구를 제대로 들여다보지는 않았지만, 아마 추측으로는 gradient가 굉장히 뭉뜽그려진 부분을 찾으려고 하지 않을까? focus가 좋지 않거나, 형태 자체가 뭉뜽그려진 값을 준다면 모션블러와 비슷하게 보일수도 있으니, 모션 블러만을 제대로 분류하는 알고리즘도 들어갈 것이다. 모션 블러가 조금만 있는 이미지라면 계산량이 작을 수도 있겠다. 반대로, 모션블러가 엄청나게 들어간 이미지는 더 계산이 많이 필요할 수도 있겠다. 이미지마다 연산량이 그렇게 많이 차이가 나면, 동영상에서 매 프레임마다 계산을 하려고 할 때 한 프레임은 빠르게 계산하고 다음 프레임은 엄청나게 느리게 처리가 되면서, 전체적으로 엄청나게 버벅거릴 수도 있겠다.</p>
<p> </p>
<hr>
<h2 id="진짜-모션-블러는-어떻게-지우는거지-하드웨어"><a href="#진짜-모션-블러는-어떻게-지우는거지-하드웨어" class="headerlink" title="진짜 모션 블러는 어떻게 지우는거지? (하드웨어)"></a>진짜 모션 블러는 어떻게 지우는거지? (하드웨어)</h2><p>소프트웨어만으로는 모션 블러를 지우기 쉽지 않다. 그러면 우리는 언제든지 모션 블러를 달고 살아야하는가? ㅠㅠ</p>
<p>아니다!</p>
<p>우리가 사용하는 <strong>대부분의 영상처리 알고리즘들은 ‘조금의 모션 블러’에는 강건하게 계산을 수행할 수 있다</strong>. 또, <strong>잘 알려진 특정 알고리즘 등을 통해서 이미지를 조금 변형시켜 모션 블러 효과를 무시</strong>할 수도 있다. 우리의 목적은 모션 블러를 100% 없애는게 아니라, 이 알고리즘들이 내가 얻은 영상에서 사용할 수 있게 하는 것이다 :)</p>
<p>소프트웨어에서 심한 모션 블러를 잡을 수 없다면, 하드웨어에서 잡아볼 수 있겠다. 다만 소프트웨어로 처리하는데 필요한 지식과 하드웨어로 처리하는데 필요한 지식은 서로 굉장히 다르다. <strong>하드웨어 쪽은 알고리즘에 대한 지식보다는 광학과 신호처리 쪽으로의 지식이 필요</strong>하므로, 컴퓨터 비전 / 딥러닝의 소프트웨어만을 하시던 분들은 조금 생소하실 수 도 있다.</p>
<p>모션 블러가 왜 나타나는지 이해하기 위해서는 카메라가 어떻게 작동하는지 이해해야한다. 카메라가 작동하는 원리는 아래와 같다</p>
<p> </p>
<h3 id="2-1-카메라의-원리"><a href="#2-1-카메라의-원리" class="headerlink" title="2.1 카메라의 원리"></a>2.1 카메라의 원리</h3><ol>
<li><p>셔터가 열리고, 이미지 센서가 빛에 노출된다.</p>
<img src="/20210329-motion-blur/Untitled_1.png" width="500" height="200" alt="lol" title="lol2">
</li>
<li><p>빛이 센서에 닿으면서, <strong>센서의 픽셀마다 받아드린 빛의 양 만큼의 신호를 모은다</strong>.</p>
<img src="/20210329-motion-blur/Untitled_2.png" width="500" height="200" alt="lol" title="lol2">
</li>
<li><p>셔터가 닫히면서, 더 이상 이미지 센서가 빛에 노출되지 않는다.</p>
<img src="/20210329-motion-blur/Untitled_3.png" width="500" height="200" alt="lol" title="lol2">
</li>
<li><p><strong>지금까지 모아온 빛 신호를 디지털 신호로 바꾸고</strong>, 2D 이미지를 만든다.</p>
<img src="/20210329-motion-blur/Untitled_4.png" width="500" height="200" alt="lol" title="lol2">
</li>
<li><p>1로 돌아가서 새 사진을 찍는다.</p>
</li>
</ol>
<p>간단히 요약하면, <strong>이미지 센서가 빛에 노출된 동안 얻은 정보를 재구성하면 영상이 나온다</strong>. 그러면, <strong>이미지 센서가 빛에 노출되는 동안 이 빛에 아무런 변화가 없으면 그것이 스틸샷</strong>이겠고, <strong>모션 블러는 이미지 센서가 빛에 노출된 동안 생긴 변화</strong>가 되겠다.</p>
<p> </p>
<h3 id="모션블러의-원리"><a href="#모션블러의-원리" class="headerlink" title="모션블러의 원리"></a>모션블러의 원리</h3><p>이미지 센서는 빛에 특정 시간동안 노출되어있어야 한다. 이 노출되어있는 시간을 우리는 <strong>Exposure, 또는 Exposure time</strong>이라고 한다. </p>
<p>Exposure를 받고있는 도중에 피사체가 움직여버렸다고 생각해보자. <strong>움직이기 전과 움직이기 시작한 후에 들어오는 빛이 다를것이다</strong>. 움직이기 전의 빛을 받던 픽셀은 더 이상 빛을 받지 못하게 되고, 움직이면서 새로운 픽셀이 빛을 받게 된다. 이렇게 <strong>(이전에 빛을 받던 픽셀 + 새로 빛을 받는 픽셀)만큼의 픽셀들이 피사체에 대한 정보를 담게 된다</strong>. 하지만, 충분한 시간동안 <strong>충분한 양의 빛이 담기지 않기 때문에 약한 신호로 측정</strong>되고, 이 때문에 <strong>투명해보이는 효과</strong>가 나타난다.</p>
<img src="/20210329-motion-blur/Untitled_5.png" width="750" height="500" alt="lol" title="lol2">

<p>그렇다면, Exposure 중에만 피사체가 움직이지 않으면 모션 블러가 없겠다! </p>
<p>하지만 대부분 피사체들은 연속적으로 움직이고, exposure 중에만 멈춰주는 착한 피사체는 없기 때문에… Exposure 중에 번지는 효과를 최소화하기 위해서는 <strong>Exposure를 줄이면 되겠다</strong>. 10의 Exposure에서 10 픽셀의 번짐 (모션 블러)를 일으킨다면, 1의 Exposure에는 1픽셀의 번짐만이 있을 것이다. 모션 블러의 효과가 10 픽셀에서 1픽셀로 줄었다!</p>
<p>그리고 아주 다행히도, <strong>괜찮은 웹캠, 스마트폰, 디지털 카메라에서도 요즘은 exposure를 조정할 수 있다!</strong></p>
<p> </p>
<h3 id="ISO-값-조정하기"><a href="#ISO-값-조정하기" class="headerlink" title="ISO 값 조정하기"></a>ISO 값 조정하기</h3><p>Exposure를 줄이면 모션 블러를 줄일 수 있지만, 다른 문제가 하나 생긴다. Exposure를 10→1로 줄인다면 모션 블러도 10→1로 줄어든다. 그러나, 빛을 받는 시간이 줄어드는 것이라… 받아드리는 빛의 양도 10→1로 줄어든다. 이 뜻은 <strong>Exposure를 줄인만큼 영상이 어두워진다는 것이다</strong>. <strong>이론적으론 모션 블러를 최소화하다가 하마터면 시꺼면 화면을 볼 수도 있다</strong>.</p>
<p>다행히도, 디지털 영상 촬영에서는 <strong>ISO</strong>라는 파라미터가 있다. 이것은 <strong>받아드린 빛 신호를 증폭기 (amplifier)를 이용해서 신호를 증폭</strong>시키는 것이다. </p>
<p>10의 신호를 받았는데, 나는 100을 원한다? 그러면 신호를 10배 올릴 수 있는 ISO 값을 설정하면 된다. 1의 신호를 받았는데, 나는 100을 원한다? 그러면 신호를 100배 올릴 수 있는 ISO 값을 설정하면 된다. </p>
<p>그러면 모션 블러를 최소화하려면, <strong>Exposure를 줄이고, ISO 값을 높이면 되겠다</strong>.</p>
<p>다만 <strong>ISO 값은 높이면 높일수록 노이즈가 커진다</strong>. 이미지 센서 특성 상 항상 어느정도의 노이즈가 들어가는데, 그 값을도 함께 증폭이 되기 때문이다. <strong>이 때 생기는 노이즈는 피할 수 없다</strong>. 최소화 하려면 이미지 센서 사이즈를 큰거를 쓰거나, 가우시안 블러 등으로 노이즈를 없애면 되지만… 이 부분은 <strong>다른 글에서 다루기로 한다</strong>.</p>
<img src="/20210329-motion-blur/Untitled_6.png" class="" title="ISO and noise">

<p> </p>
<hr>
<h2 id="스마트폰에서-모션블러-지우기"><a href="#스마트폰에서-모션블러-지우기" class="headerlink" title="스마트폰에서 모션블러 지우기"></a>스마트폰에서 모션블러 지우기</h2><p>스마트폰에서는 다행히도 Exposure 값을 바꿀 수 있다. 사용한 스마트폰은 삼성 갤럭시 S7 Edge이다.</p>
<p>기존의 카메라 앱에 들어가서, 왼쪽으로 슬라이드하면 **’프로 모드’**가 있다.</p>
<p><strong>프로 모드에서는 Exposure, ISO 등 여러 값들을 사용자가 원하는대로 바꿀 수 있다.</strong></p>
<p>아이폰, 다른 안드로이드 스마트폰에서도 비슷한 기능을 찾아 들어가면 된다.</p>
<img src="/20210329-motion-blur/pro.png" class="" title="pro1">

<p>비교를 위해서 Exposure를 1/5정도로 가능한 높이고 손을 가볍게 흔들면서 사진을 찍었다. 엄청난 양의 모션 블러가 보인다. 그에 비해, 뒤에 움직이지 않는 물체들은 선명하게 촬영되었다.</p>
<p>(아래 사진은 블러가 가득하다)</p>
<img src="/20210329-motion-blur/blur.jpg" width="350" height="500" alt="lol" title="lol2">

<p>이제 Exposure를 줄여보기로 한다. 약 1/250 정도로 줄여보았다. </p>
<p>이렇게 되서 모션 블러와 함께 피사체가 함께 사라졌다. 우리가 원하는건 피사체는 남고 블러만 사라지는거니까, ISO를 높여보기로 한다.</p>
<p>(이미지가 전체적으로 어두워졌다. 이미지가 로딩이 안되는게 아니다! 사진 오른쪽 위를 보면 빛을 강하게 발산하는 컴퓨터 화면은 보인다.)</p>
<img src="/20210329-motion-blur/before_fix.jpg" width="350" height="500" alt="lol" title="lol2">

<p>ISO를 높이고, 가볍게 손을 흔들면서 다시 촬영해보았다.</p>
<p>오른쪽의 사진이 방금 ISO를 높인 후 찍힌사진이다. </p>
<p>사진만 봐서는 손을 움직이지 않고 찍은것 처럼 보이나, 실제로는 아까전에 찍은 왼쪽의 블러 이미지를 얻을 때와 똑같이 움직인 사진이다. </p>
<img src="/20210329-motion-blur/comparison.png" class="" title="comp">


<p>모션 블러가 없어진건 정말 다행이다! 하지만 ISO를 높이면서 이미지에 노이즈가 생겼다.</p>
<p>지금 나오는 두개의 이미지는 각각 높은 ISO에서 얻어진 이미지와, 기존의 낮은 ISO에서 얻어진 이미지이다. <strong>높은 ISO에서 얻어진 이미지는 노이즈가 생겼다</strong>. 사진을 찍는 사람들은 이걸 보고 사진의 grain (질감)이라고 하고 이를 통해 특정한 느낌을 표현하려고 하지만, 로보틱스 비전이나 딥러닝 비전을 하는 우리에게는 전혀 필요 없다. 깔끔한 이미지가 최고다!</p>
<img src="/20210329-motion-blur/comp2.png" class="" title="comp2">

<p> </p>
<h2 id="머신-비전-카메라-Scientific-Camera로-모션-블러-제거하기"><a href="#머신-비전-카메라-Scientific-Camera로-모션-블러-제거하기" class="headerlink" title="머신 비전 카메라 / Scientific Camera로 모션 블러 제거하기"></a>머신 비전 카메라 / Scientific Camera로 모션 블러 제거하기</h2><p>위의 스마트폰과 같은 방식으로 진행되었다.</p>
<p>FLIR사의 Chameleon 3 Monochrome 카메라를 이용해서 촬영되었고, Spinnaker Evaluation S/W를 사용했다.</p>
<p>머신 비전 카메라들은 Exposure time와 ISO를 훨씬 더 정확하게 조정할 수 있다. FLIR 사의 경우에는 ISO를 Gain이라는 단어로 표현한다. 머신 비전 회사마다 명칭을 다르게 부르는 경우가 있으니, 이 점 유의해야한다. 보통 Exposure와 ISO는 오토모드로 고정이 되어있어서, 이 락을 먼저 풀어줘야한다.</p>
<p>첫번째 영상은 레퍼런스 영상이다.</p>
<p>약 이정도의 속도로 손을 열심히 흔들어서 모션 블러를 만들어보려고 했다. </p>
<img src="/20210329-motion-blur/1.gif" width="1080" height="720" alt="[alternative_text]" title="[이예에~~1]">

<p>2번째 영상에서는 기본 세팅에서 잡혀있는 Exposure 값으로 촬영을 해보았다.</p>
<p>기본 세팅이 워낙 잘 잡혀있어서 모션 블러가 스마트폰 만큼 크진 않지만, 모션블러가 없지는 않다.</p>
<p>이정도 모션 블러라면, 데이터셋이 충분하지 않은 딥러닝 비전은 검출에 실패할 수도 있고, 로보틱스 비전의 경우 피쳐 검출이 부정확할 수 있다.</p>
<img src="/20210329-motion-blur/2.gif" width="1080" height="720" alt="[alternative_text]" title="[이예에~~2]">

<p>세번째 영상에서는 Exposure 값을 줄이고, 밝아질 때 까지 Gain을 높여보았다.</p>
<p>빠르게 움직이는 피사체임에도 불구하고, 모션 블러가 없는 영상을 얻을 수 있었다.</p>
<p>그러나, 영상 썸네일에서 보이듯이 전체적으로 영상에 노이즈가 생긴 것을 확인할 수 있다.</p>
<img src="/20210329-motion-blur/3.gif" width="1080" height="720" alt="[alternative_text]" title="[이예에~~3]">

<hr>
<h2 id="참고자료-소스"><a href="#참고자료-소스" class="headerlink" title="참고자료 + 소스"></a>참고자료 + 소스</h2><ul>
<li><p>ICCV 2015 - “Hierarchical Convolutional Features for Visual Tracking”</p>
<p>  <span class="exturl" data-url="aHR0cHM6Ly9wZGZzLnNlbWFudGljc2Nob2xhci5vcmcvOWVkYS82NmY4NTUxZTIwZmNhM2IxZjkyNzU3ODFlOTU1NWVhNTAyM2QucGRm">링크<i class="fa fa-external-link-alt"></i></span></p>
</li>
<li><p>카메라 센서 이미지를 가져온 원본 비디오</p>
<p>  <span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1Cc1hJUWtoc3hFTQ==">How Camera Sensors Pick up Light with John Greengo<i class="fa fa-external-link-alt"></i></span></p>
</li>
<li><p>ISO 노이즈 값 설명하는 그래프를 가져온 웹사이트</p>
<p>  <span class="exturl" data-url="aHR0cHM6Ly93d3cuZGF2ZW1vcnJvd3Bob3RvZ3JhcGh5LmNvbS9jYW1lcmEtc2Vuc29yLXNpemUtZ3VpZGUjRHluYW1pY19SYW5nZV9JU09fU2Vuc29yX1NpemU=">Camera Sensor Size Photography Guide [Updated 2019]<i class="fa fa-external-link-alt"></i></span></p>
</li>
</ul>

    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/20210228-AD-sensors/" rel="bookmark">SLAM에서 사용할 수 있는 센서의 종류</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/20210116-sensor-size/" rel="bookmark">카메라 센서 사이즈의 영향</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Camera/" rel="tag"># Camera</a>
              <a href="/tags/Imaging/" rel="tag"># Imaging</a>
              <a href="/tags/Motion-blur/" rel="tag"># Motion blur</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/20210329-mar-2021-slam-news/" rel="prev" title="2021년 3월 SLAM 뉴스">
                  <i class="fa fa-chevron-left"></i> 2021년 3월 SLAM 뉴스
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/20210330-mersenne-twister/" rel="next" title="메르센 트위스터 (std::mt19937 / std::mersenne_twister_engine)">
                  메르센 트위스터 (std::mt19937 / std::mersenne_twister_engine) <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="changh95/blog_comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">cv-learn</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  

<script src="/js/local-search.js"></script>



<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  const url = element.dataset.target;
  const pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  const pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  const fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>



  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





  <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = '//cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>



</body>
</html>
