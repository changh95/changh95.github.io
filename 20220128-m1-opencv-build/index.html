<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"changh95.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.20.0","exturl":true,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"disqus","active":false,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":"auto","trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="M1 chip에서 CMake + Ninja 조합으로 OpenCV 빌드해보기!">
<meta property="og:type" content="article">
<meta property="og:title" content="M1 chip에서 OpenCV 빌드하기 (C++)">
<meta property="og:url" content="https://changh95.github.io/20220128-m1-opencv-build/index.html">
<meta property="og:site_name" content="cv-learn">
<meta property="og:description" content="M1 chip에서 CMake + Ninja 조합으로 OpenCV 빌드해보기!">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-01-28T07:24:41.000Z">
<meta property="article:modified_time" content="2024-08-26T04:39:45.263Z">
<meta property="article:author" content="cv-learn">
<meta property="article:tag" content="Apple">
<meta property="article:tag" content="OpenCV">
<meta property="article:tag" content="Macbook Pro">
<meta property="article:tag" content="M1">
<meta property="article:tag" content="ARM">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://changh95.github.io/20220128-m1-opencv-build/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://changh95.github.io/20220128-m1-opencv-build/","path":"20220128-m1-opencv-build/","title":"M1 chip에서 OpenCV 빌드하기 (C++)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>M1 chip에서 OpenCV 빌드하기 (C++) | cv-learn</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">cv-learn</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Vision, SLAM, Spatial AI</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Background"><span class="nav-number">1.</span> <span class="nav-text">Background</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%82%AC%EC%A0%84-%EB%8B%A8%EA%B3%84"><span class="nav-number">2.</span> <span class="nav-text">사전 단계</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Homebrew-%EC%84%A4%EC%B9%98"><span class="nav-number">2.1.</span> <span class="nav-text">Homebrew 설치</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC-%EC%84%A4%EC%B9%98"><span class="nav-number">2.2.</span> <span class="nav-text">컴파일러 설치</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OpenCV-%EC%84%A4%EC%B9%98"><span class="nav-number">3.</span> <span class="nav-text">OpenCV 설치</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%B9%8C%EB%93%9C"><span class="nav-number">4.</span> <span class="nav-text">빌드</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">cv-learn</p>
  <div class="site-description" itemprop="description">Vision, SLAM, Spatial AI</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">257</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">359</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoYW5naDk1" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;changh95"><i class="fab fa-github fa-fw"></i></span>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://changh95.github.io/20220128-m1-opencv-build/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="cv-learn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="cv-learn">
      <meta itemprop="description" content="Vision, SLAM, Spatial AI">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="M1 chip에서 OpenCV 빌드하기 (C++) | cv-learn">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          M1 chip에서 OpenCV 빌드하기 (C++)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-01-28 16:24:41" itemprop="dateCreated datePublished" datetime="2022-01-28T16:24:41+09:00">2022-01-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-26 13:39:45" itemprop="dateModified" datetime="2024-08-26T13:39:45+09:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/1-Spatial-AI/" itemprop="url" rel="index"><span itemprop="name">1. Spatial AI</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/1-Spatial-AI/1-1-SLAM/" itemprop="url" rel="index"><span itemprop="name">1.1 SLAM</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/1-Spatial-AI/1-3-Computer-Vision-Imaging/" itemprop="url" rel="index"><span itemprop="name">1.3 Computer Vision & Imaging</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>M1 맥북을 샀으니 이제 개발이 해보고싶다.</p>
<p>OpenCV 부터 빌드를 해보자!</p>
<p> </p>
<h2 id="사전-단계"><a href="#사전-단계" class="headerlink" title="사전 단계"></a>사전 단계</h2><h3 id="Homebrew-설치"><a href="#Homebrew-설치" class="headerlink" title="Homebrew 설치"></a>Homebrew 설치</h3><p>MacOS에는 apt repository가 없으니, brew를 설치한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ /bin/bash -c <span class="string">"<span class="subst">$(curl -fsSL &lt;https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh&gt;)</span>"</span></span><br></pre></td></tr></table></figure>
<h3 id="컴파일러-설치"><a href="#컴파일러-설치" class="headerlink" title="컴파일러 설치"></a>컴파일러 설치</h3><p>brew로 gcc를 깔아줘도 되곘지만, MacOS에서는 주로 이 방법을 쓴다고 해서 해봤다.</p>
<p>MacOS에서 주로 쓰는 개발툴인 XCode를 설치할 때 같이 딸려오는 컴파일러를 쓰는 것이다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select install</span><br></pre></td></tr></table></figure>
<p>이 후 <code>gcc --version</code> 을 치면 이렇게 나온다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ~/o/build ❯❯❯ gcc --version</span><br><span class="line">$ Configured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/Library/Developer/CommandLineTools/SDKs/MacOSX12.1.sdk/usr/include/c++/4.2.1</span><br><span class="line">$ Apple clang version 13.0.0 (clang-1300.0.27.3)</span><br><span class="line">$ Target: arm64-apple-darwin21.2.0</span><br><span class="line">$ Thread model: posix</span><br><span class="line">$ InstalledDir: /Library/Developer/CommandLineTools/usr/bin</span><br></pre></td></tr></table></figure>
<p>??? 분명 gcc를 깔았는데 Apple clang이 나온다 ㅋㅋ</p>
<p>나중에 알고보니, Mac에서는 gcc 프론트엔드 + LLVM 백엔드를 써서 gcc 인터페이스를 지원한다고 한다. [링크]</p>
<p>그러면 결국 Apple clang이 맞는거겠지…</p>
<p> </p>
<hr>
<h2 id="OpenCV-설치"><a href="#OpenCV-설치" class="headerlink" title="OpenCV 설치"></a>OpenCV 설치</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL29wZW5jdi9vcGVuY3Y=">OpenCV GitHub 링크<i class="fa fa-external-link-alt"></i></span>로 가서 최신 소스를 긁어온다. 쓱싹!</p>
<p>물론 이 방법보다는 Release 페이지로 들어가서 가장 최신 버전을 가져오는게 좋다.</p>
<p>현재 이 글을 작성하는 시기의 최선 버전은 4.5.5 이다.</p>
<p>아래 커맨드를 이용해서 코드를 땡겨온다. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">mkdir opencv</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/opencv/opencv.git .</span><br></pre></td></tr></table></figure>
<p>그리고 build/install 폴더를 설정한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir build</span><br><span class="line">mkdir install</span><br></pre></td></tr></table></figure>
<p>그리고 빌드를 시작한다.</p>
<p>빌드 타입은 Release로, install의 위치는 시스템이 아닌 로컬폴더 (i.e. install 폴더)로, generator는 Ninja로 한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=../install -GNinja ..</span><br></pre></td></tr></table></figure>
<p>위 커맨드를 실행했을 때 다음과 같은 로그가 나왔다.</p>
<p>기이이인 로그가 나오지만, 눈에 띄는 부분마다 짤라서 코멘트를 정리한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- The CXX compiler identification is AppleClang 13.0.0.13000027</span><br><span class="line">-- The C compiler identification is AppleClang 13.0.0.13000027</span><br></pre></td></tr></table></figure>
<p>Apple Clang 컴파일러가 잡혔다.</p>
<p>M1 맥북에는 AppleClang13 - 제일 최신 버전이 자동으로 설치되나보다. 아주 굿!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line">-- Detecting CXX compiler ABI info</span><br><span class="line">-- Detecting CXX compiler ABI info - <span class="keyword">done</span></span><br><span class="line">-- Check <span class="keyword">for</span> working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++ - skipped</span><br><span class="line">-- Detecting CXX compile features</span><br><span class="line">-- Detecting CXX compile features - <span class="keyword">done</span></span><br><span class="line">-- Detecting C compiler ABI info</span><br><span class="line">-- Detecting C compiler ABI info - <span class="keyword">done</span></span><br><span class="line">-- Check <span class="keyword">for</span> working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc - skipped</span><br><span class="line">-- Detecting C compile features</span><br><span class="line">-- Detecting C compile features - <span class="keyword">done</span></span><br><span class="line">-- Detected processor: arm64</span><br><span class="line">-- Found PythonInterp: /usr/bin/python2.7 (found suitable version <span class="string">"2.7.18"</span>, minimum required is <span class="string">"2.7"</span>) </span><br><span class="line">-- Found PythonLibs: /usr/lib/libpython2.7.dylib (found suitable exact version <span class="string">"2.7.18"</span>) </span><br><span class="line">-- Found PythonInterp: /opt/homebrew/bin/python3 (found suitable version <span class="string">"3.9.10"</span>, minimum required is <span class="string">"3.2"</span>) </span><br><span class="line">-- Could NOT find PythonLibs (missing: PYTHON_LIBRARIES PYTHON_INCLUDE_DIRS) (Required is exact version <span class="string">"3.9.10"</span>)</span><br><span class="line">-- Looking <span class="keyword">for</span> ccache - not found</span><br><span class="line">-- Performing Test HAVE_CXX_FSIGNED_CHAR</span><br><span class="line">-- Performing Test HAVE_CXX_FSIGNED_CHAR - Success</span><br><span class="line">-- Performing Test HAVE_C_FSIGNED_CHAR</span><br><span class="line">-- Performing Test HAVE_C_FSIGNED_CHAR - Success</span><br><span class="line">-- Performing Test HAVE_CXX_W</span><br><span class="line">-- Performing Test HAVE_CXX_W - Success</span><br><span class="line">-- Performing Test HAVE_C_W</span><br><span class="line">-- Performing Test HAVE_C_W - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WALL</span><br><span class="line">-- Performing Test HAVE_CXX_WALL - Success</span><br><span class="line">-- Performing Test HAVE_C_WALL</span><br><span class="line">-- Performing Test HAVE_C_WALL - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_RETURN_TYPE</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_RETURN_TYPE - Success</span><br><span class="line">-- Performing Test HAVE_C_WERROR_RETURN_TYPE</span><br><span class="line">-- Performing Test HAVE_C_WERROR_RETURN_TYPE - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_NON_VIRTUAL_DTOR</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_NON_VIRTUAL_DTOR - Success</span><br><span class="line">-- Performing Test HAVE_C_WERROR_NON_VIRTUAL_DTOR</span><br><span class="line">-- Performing Test HAVE_C_WERROR_NON_VIRTUAL_DTOR - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_ADDRESS</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_ADDRESS - Success</span><br><span class="line">-- Performing Test HAVE_C_WERROR_ADDRESS</span><br><span class="line">-- Performing Test HAVE_C_WERROR_ADDRESS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_SEQUENCE_POINT</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_SEQUENCE_POINT - Success</span><br><span class="line">-- Performing Test HAVE_C_WERROR_SEQUENCE_POINT</span><br><span class="line">-- Performing Test HAVE_C_WERROR_SEQUENCE_POINT - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WFORMAT</span><br><span class="line">-- Performing Test HAVE_CXX_WFORMAT - Success</span><br><span class="line">-- Performing Test HAVE_C_WFORMAT</span><br><span class="line">-- Performing Test HAVE_C_WFORMAT - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_FORMAT_SECURITY</span><br><span class="line">-- Performing Test HAVE_CXX_WERROR_FORMAT_SECURITY - Success</span><br><span class="line">-- Performing Test HAVE_C_WERROR_FORMAT_SECURITY</span><br><span class="line">-- Performing Test HAVE_C_WERROR_FORMAT_SECURITY - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WMISSING_DECLARATIONS</span><br><span class="line">-- Performing Test HAVE_CXX_WMISSING_DECLARATIONS - Success</span><br><span class="line">-- Performing Test HAVE_C_WMISSING_DECLARATIONS</span><br><span class="line">-- Performing Test HAVE_C_WMISSING_DECLARATIONS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WMISSING_PROTOTYPES</span><br><span class="line">-- Performing Test HAVE_CXX_WMISSING_PROTOTYPES - Success</span><br><span class="line">-- Performing Test HAVE_C_WMISSING_PROTOTYPES</span><br><span class="line">-- Performing Test HAVE_C_WMISSING_PROTOTYPES - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WSTRICT_PROTOTYPES</span><br><span class="line">-- Performing Test HAVE_CXX_WSTRICT_PROTOTYPES - Success</span><br><span class="line">-- Performing Test HAVE_C_WSTRICT_PROTOTYPES</span><br><span class="line">-- Performing Test HAVE_C_WSTRICT_PROTOTYPES - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WUNDEF</span><br><span class="line">-- Performing Test HAVE_CXX_WUNDEF - Success</span><br><span class="line">-- Performing Test HAVE_C_WUNDEF</span><br><span class="line">-- Performing Test HAVE_C_WUNDEF - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WINIT_SELF</span><br><span class="line">-- Performing Test HAVE_CXX_WINIT_SELF - Success</span><br><span class="line">-- Performing Test HAVE_C_WINIT_SELF</span><br><span class="line">-- Performing Test HAVE_C_WINIT_SELF - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WPOINTER_ARITH</span><br><span class="line">-- Performing Test HAVE_CXX_WPOINTER_ARITH - Success</span><br><span class="line">-- Performing Test HAVE_C_WPOINTER_ARITH</span><br><span class="line">-- Performing Test HAVE_C_WPOINTER_ARITH - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WSHADOW</span><br><span class="line">-- Performing Test HAVE_CXX_WSHADOW - Success</span><br><span class="line">-- Performing Test HAVE_C_WSHADOW</span><br><span class="line">-- Performing Test HAVE_C_WSHADOW - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WSIGN_PROMO</span><br><span class="line">-- Performing Test HAVE_CXX_WSIGN_PROMO - Success</span><br><span class="line">-- Performing Test HAVE_C_WSIGN_PROMO</span><br><span class="line">-- Performing Test HAVE_C_WSIGN_PROMO - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WUNINITIALIZED</span><br><span class="line">-- Performing Test HAVE_CXX_WUNINITIALIZED - Success</span><br><span class="line">-- Performing Test HAVE_C_WUNINITIALIZED</span><br><span class="line">-- Performing Test HAVE_C_WUNINITIALIZED - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_DELETE_NON_VIRTUAL_DTOR</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_DELETE_NON_VIRTUAL_DTOR - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_DELETE_NON_VIRTUAL_DTOR</span><br><span class="line">-- Performing Test HAVE_C_WNO_DELETE_NON_VIRTUAL_DTOR - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNNAMED_TYPE_TEMPLATE_ARGS</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNNAMED_TYPE_TEMPLATE_ARGS - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNNAMED_TYPE_TEMPLATE_ARGS</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNNAMED_TYPE_TEMPLATE_ARGS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_COMMENT</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_COMMENT - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_COMMENT</span><br><span class="line">-- Performing Test HAVE_C_WNO_COMMENT - Success</span><br><span class="line">-- Performing Test HAVE_CXX_FDIAGNOSTICS_SHOW_OPTION</span><br><span class="line">-- Performing Test HAVE_CXX_FDIAGNOSTICS_SHOW_OPTION - Success</span><br><span class="line">-- Performing Test HAVE_C_FDIAGNOSTICS_SHOW_OPTION</span><br><span class="line">-- Performing Test HAVE_C_FDIAGNOSTICS_SHOW_OPTION - Success</span><br><span class="line">-- Performing Test HAVE_CXX_QUNUSED_ARGUMENTS</span><br><span class="line">-- Performing Test HAVE_CXX_QUNUSED_ARGUMENTS - Success</span><br><span class="line">-- Performing Test HAVE_C_QUNUSED_ARGUMENTS</span><br><span class="line">-- Performing Test HAVE_C_QUNUSED_ARGUMENTS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SEMICOLON_BEFORE_METHOD_BODY</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SEMICOLON_BEFORE_METHOD_BODY - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_SEMICOLON_BEFORE_METHOD_BODY</span><br><span class="line">-- Performing Test HAVE_C_WNO_SEMICOLON_BEFORE_METHOD_BODY - Success</span><br><span class="line">-- Performing Test HAVE_CXX_FFUNCTION_SECTIONS</span><br><span class="line">-- Performing Test HAVE_CXX_FFUNCTION_SECTIONS - Success</span><br><span class="line">-- Performing Test HAVE_C_FFUNCTION_SECTIONS</span><br><span class="line">-- Performing Test HAVE_C_FFUNCTION_SECTIONS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_FDATA_SECTIONS</span><br><span class="line">-- Performing Test HAVE_CXX_FDATA_SECTIONS - Success</span><br><span class="line">-- Performing Test HAVE_C_FDATA_SECTIONS</span><br><span class="line">-- Performing Test HAVE_C_FDATA_SECTIONS - Success</span><br><span class="line">-- Performing Test HAVE_CPU_NEON_SUPPORT (check file: cmake/checks/cpu_neon.cpp)</span><br><span class="line">-- Performing Test HAVE_CPU_NEON_SUPPORT - Success</span><br><span class="line">-- Performing Test HAVE_CPU_FP16_SUPPORT (check file: cmake/checks/cpu_fp16.cpp)</span><br><span class="line">-- Performing Test HAVE_CPU_FP16_SUPPORT - Success</span><br><span class="line">-- Performing Test HAVE_CPU_BASELINE_FLAGS</span><br><span class="line">-- Performing Test HAVE_CPU_BASELINE_FLAGS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_FVISIBILITY_HIDDEN</span><br><span class="line">-- Performing Test HAVE_CXX_FVISIBILITY_HIDDEN - Success</span><br><span class="line">-- Performing Test HAVE_C_FVISIBILITY_HIDDEN</span><br><span class="line">-- Performing Test HAVE_C_FVISIBILITY_HIDDEN - Success</span><br><span class="line">-- Performing Test HAVE_CXX_FVISIBILITY_INLINES_HIDDEN</span><br><span class="line">-- Performing Test HAVE_CXX_FVISIBILITY_INLINES_HIDDEN - Success</span><br><span class="line">-- Performing Test HAVE_C_FVISIBILITY_INLINES_HIDDEN</span><br><span class="line">-- Performing Test HAVE_C_FVISIBILITY_INLINES_HIDDEN - Success</span><br><span class="line">-- Performing Test HAVE_LINK_AS_NEEDED</span><br><span class="line">-- Performing Test HAVE_LINK_AS_NEEDED - Failed</span><br><span class="line">-- Looking <span class="keyword">for</span> posix_memalign</span><br><span class="line">-- Looking <span class="keyword">for</span> posix_memalign - found</span><br><span class="line">-- Looking <span class="keyword">for</span> malloc.h</span><br><span class="line">-- Looking <span class="keyword">for</span> malloc.h - not found</span><br><span class="line">-- Looking <span class="keyword">for</span> fseeko</span><br><span class="line">-- Looking <span class="keyword">for</span> fseeko - found</span><br><span class="line">-- Looking <span class="keyword">for</span> unistd.h</span><br><span class="line">-- Looking <span class="keyword">for</span> unistd.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> sys/types.h</span><br><span class="line">-- Looking <span class="keyword">for</span> sys/types.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> stdint.h</span><br><span class="line">-- Looking <span class="keyword">for</span> stdint.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> stddef.h</span><br><span class="line">-- Looking <span class="keyword">for</span> stddef.h - found</span><br><span class="line">-- Check size of off64_t</span><br><span class="line">-- Check size of off64_t - failed</span><br><span class="line">-- Performing Test HAVE_C_WNO_SHORTEN_64_TO_32</span><br><span class="line">-- Performing Test HAVE_C_WNO_SHORTEN_64_TO_32 - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_ATTRIBUTES</span><br><span class="line">-- Performing Test HAVE_C_WNO_ATTRIBUTES - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_STRICT_PROTOTYPES</span><br><span class="line">-- Performing Test HAVE_C_WNO_STRICT_PROTOTYPES - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_MISSING_PROTOTYPES</span><br><span class="line">-- Performing Test HAVE_C_WNO_MISSING_PROTOTYPES - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_MISSING_DECLARATIONS</span><br><span class="line">-- Performing Test HAVE_C_WNO_MISSING_DECLARATIONS - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_SHIFT_NEGATIVE_VALUE</span><br><span class="line">-- Performing Test HAVE_C_WNO_SHIFT_NEGATIVE_VALUE - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNDEF</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNDEF - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_IMPLICIT_FALLTHROUGH</span><br><span class="line">-- Performing Test HAVE_C_WNO_IMPLICIT_FALLTHROUGH - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_PARAMETER</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_PARAMETER - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_SIGN_COMPARE</span><br><span class="line">-- Performing Test HAVE_C_WNO_SIGN_COMPARE - Success</span><br><span class="line">-- libjpeg-turbo: VERSION = 2.1.2, BUILD = opencv-4.5.5-dev-libjpeg-turbo</span><br></pre></td></tr></table></figure>
<p>마지막 줄은 보아하니, turbo-jpeg로 자동으로 깔려있나보다. 야호!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">-- Check size of size_t</span><br><span class="line">-- Check size of size_t - <span class="keyword">done</span></span><br><span class="line">-- Check size of unsigned long</span><br><span class="line">-- Check size of unsigned long - <span class="keyword">done</span></span><br><span class="line">-- Performing Test HAVE_BUILTIN_CTZL</span><br><span class="line">-- Performing Test HAVE_BUILTIN_CTZL - Success</span><br><span class="line">-- Looking <span class="keyword">for</span> include file locale.h</span><br><span class="line">-- Looking <span class="keyword">for</span> include file locale.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> include file stdlib.h</span><br><span class="line">-- Looking <span class="keyword">for</span> include file stdlib.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> include file sys/types.h</span><br><span class="line">-- Looking <span class="keyword">for</span> include file sys/types.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> assert.h</span><br><span class="line">-- Looking <span class="keyword">for</span> assert.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> dlfcn.h</span><br><span class="line">-- Looking <span class="keyword">for</span> dlfcn.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> fcntl.h</span><br><span class="line">-- Looking <span class="keyword">for</span> fcntl.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> inttypes.h</span><br><span class="line">-- Looking <span class="keyword">for</span> inttypes.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> io.h</span><br><span class="line">-- Looking <span class="keyword">for</span> io.h - not found</span><br><span class="line">-- Looking <span class="keyword">for</span> limits.h</span><br><span class="line">-- Looking <span class="keyword">for</span> limits.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> memory.h</span><br><span class="line">-- Looking <span class="keyword">for</span> memory.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> search.h</span><br><span class="line">-- Looking <span class="keyword">for</span> search.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> string.h</span><br><span class="line">-- Looking <span class="keyword">for</span> string.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strings.h</span><br><span class="line">-- Looking <span class="keyword">for</span> strings.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> sys/time.h</span><br><span class="line">-- Looking <span class="keyword">for</span> sys/time.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> unistd.h</span><br><span class="line">-- Looking <span class="keyword">for</span> unistd.h - found</span><br><span class="line">-- Performing Test C_HAS_inline</span><br><span class="line">-- Performing Test C_HAS_inline - Success</span><br><span class="line">-- Check size of signed short</span><br><span class="line">-- Check size of signed short - <span class="keyword">done</span></span><br><span class="line">-- Check size of unsigned short</span><br><span class="line">-- Check size of unsigned short - <span class="keyword">done</span></span><br><span class="line">-- Check size of signed int</span><br><span class="line">-- Check size of signed int - <span class="keyword">done</span></span><br><span class="line">-- Check size of unsigned int</span><br><span class="line">-- Check size of unsigned int - <span class="keyword">done</span></span><br><span class="line">-- Check size of signed long</span><br><span class="line">-- Check size of signed long - <span class="keyword">done</span></span><br><span class="line">-- Check size of signed long long</span><br><span class="line">-- Check size of signed long long - <span class="keyword">done</span></span><br><span class="line">-- Check size of unsigned long long</span><br><span class="line">-- Check size of unsigned long long - <span class="keyword">done</span></span><br><span class="line">-- Check size of unsigned char *</span><br><span class="line">-- Check size of unsigned char * - <span class="keyword">done</span></span><br><span class="line">-- Check size of ptrdiff_t</span><br><span class="line">-- Check size of ptrdiff_t - <span class="keyword">done</span></span><br><span class="line">-- Check size of INT8</span><br><span class="line">-- Check size of INT8 - failed</span><br><span class="line">-- Check size of INT16</span><br><span class="line">-- Check size of INT16 - failed</span><br><span class="line">-- Check size of INT32</span><br><span class="line">-- Check size of INT32 - failed</span><br></pre></td></tr></table></figure>
<p>흐음… INT8, INT16, INT32의 사이즈 체크는 왜 fail인 것일까…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line">-- Looking <span class="keyword">for</span> floor</span><br><span class="line">-- Looking <span class="keyword">for</span> floor - found</span><br><span class="line">-- Looking <span class="keyword">for</span> pow</span><br><span class="line">-- Looking <span class="keyword">for</span> pow - found</span><br><span class="line">-- Looking <span class="keyword">for</span> sqrt</span><br><span class="line">-- Looking <span class="keyword">for</span> sqrt - found</span><br><span class="line">-- Looking <span class="keyword">for</span> isascii</span><br><span class="line">-- Looking <span class="keyword">for</span> isascii - found</span><br><span class="line">-- Looking <span class="keyword">for</span> memset</span><br><span class="line">-- Looking <span class="keyword">for</span> memset - found</span><br><span class="line">-- Looking <span class="keyword">for</span> mmap</span><br><span class="line">-- Looking <span class="keyword">for</span> mmap - found</span><br><span class="line">-- Looking <span class="keyword">for</span> getopt</span><br><span class="line">-- Looking <span class="keyword">for</span> getopt - found</span><br><span class="line">-- Looking <span class="keyword">for</span> memmove</span><br><span class="line">-- Looking <span class="keyword">for</span> memmove - found</span><br><span class="line">-- Looking <span class="keyword">for</span> setmode</span><br><span class="line">-- Looking <span class="keyword">for</span> setmode - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strcasecmp</span><br><span class="line">-- Looking <span class="keyword">for</span> strcasecmp - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strchr</span><br><span class="line">-- Looking <span class="keyword">for</span> strchr - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strrchr</span><br><span class="line">-- Looking <span class="keyword">for</span> strrchr - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strstr</span><br><span class="line">-- Looking <span class="keyword">for</span> strstr - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strtol</span><br><span class="line">-- Looking <span class="keyword">for</span> strtol - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strtol</span><br><span class="line">-- Looking <span class="keyword">for</span> strtol - found</span><br><span class="line">-- Looking <span class="keyword">for</span> strtoull</span><br><span class="line">-- Looking <span class="keyword">for</span> strtoull - found</span><br><span class="line">-- Looking <span class="keyword">for</span> lfind</span><br><span class="line">-- Looking <span class="keyword">for</span> lfind - found</span><br><span class="line">-- Performing Test HAVE_SNPRINTF</span><br><span class="line">-- Performing Test HAVE_SNPRINTF - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_BUT_SET_VARIABLE</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_BUT_SET_VARIABLE - Failed</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_CAST_ALIGN</span><br><span class="line">-- Performing Test HAVE_C_WNO_CAST_ALIGN - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_SHADOW</span><br><span class="line">-- Performing Test HAVE_C_WNO_SHADOW - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_MAYBE_UNINITIALIZED</span><br><span class="line">-- Performing Test HAVE_C_WNO_MAYBE_UNINITIALIZED - Failed</span><br><span class="line">-- Performing Test HAVE_C_WNO_POINTER_TO_INT_CAST</span><br><span class="line">-- Performing Test HAVE_C_WNO_POINTER_TO_INT_CAST - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_INT_TO_POINTER_CAST</span><br><span class="line">-- Performing Test HAVE_C_WNO_INT_TO_POINTER_CAST - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_MISLEADING_INDENTATION</span><br><span class="line">-- Performing Test HAVE_C_WNO_MISLEADING_INDENTATION - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_MISSING_DECLARATIONS</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_MISSING_DECLARATIONS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_PARAMETER</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_PARAMETER - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_MISSING_PROTOTYPES</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_MISSING_PROTOTYPES - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNDEF</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNDEF - Success</span><br><span class="line">-- Performing Test HAVE_C_STD_C99</span><br><span class="line">-- Performing Test HAVE_C_STD_C99 - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_VARIABLE</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_VARIABLE - Success</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_FUNCTION</span><br><span class="line">-- Performing Test HAVE_C_WNO_UNUSED_FUNCTION - Success</span><br><span class="line">-- Could NOT find OpenJPEG (minimal suitable version: 2.0, recommended version &gt;= 2.3.1). OpenJPEG will be built from sources</span><br><span class="line">-- Performing Test HAVE_C_WNO_IMPLICIT_CONST_INT_FLOAT_CONVERSION</span><br><span class="line">-- Performing Test HAVE_C_WNO_IMPLICIT_CONST_INT_FLOAT_CONVERSION - Success</span><br><span class="line">-- OpenJPEG: VERSION = 2.4.0, BUILD = opencv-4.5.5-dev-openjp2-2.4.0</span><br><span class="line">-- Looking <span class="keyword">for</span> stdio.h</span><br><span class="line">-- Looking <span class="keyword">for</span> stdio.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> math.h</span><br><span class="line">-- Looking <span class="keyword">for</span> math.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> float.h</span><br><span class="line">-- Looking <span class="keyword">for</span> float.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> time.h</span><br><span class="line">-- Looking <span class="keyword">for</span> time.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> stdarg.h</span><br><span class="line">-- Looking <span class="keyword">for</span> stdarg.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> ctype.h</span><br><span class="line">-- Looking <span class="keyword">for</span> ctype.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> stdint.h</span><br><span class="line">-- Looking <span class="keyword">for</span> stdint.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> inttypes.h</span><br><span class="line">-- Looking <span class="keyword">for</span> inttypes.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> sys/stat.h</span><br><span class="line">-- Looking <span class="keyword">for</span> sys/stat.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> include file malloc.h</span><br><span class="line">-- Looking <span class="keyword">for</span> include file malloc.h - not found</span><br><span class="line">-- Looking <span class="keyword">for</span> _aligned_malloc</span><br><span class="line">-- Looking <span class="keyword">for</span> _aligned_malloc - not found</span><br><span class="line">-- Looking <span class="keyword">for</span> posix_memalign</span><br><span class="line">-- Looking <span class="keyword">for</span> posix_memalign - found</span><br><span class="line">-- Looking <span class="keyword">for</span> memalign</span><br><span class="line">-- Looking <span class="keyword">for</span> memalign - not found</span><br><span class="line">-- Performing Test HAVE_C_WNO_CAST_FUNCTION_TYPE</span><br><span class="line">-- Performing Test HAVE_C_WNO_CAST_FUNCTION_TYPE - Failed</span><br><span class="line">-- OpenJPEG libraries will be built from sources: libopenjp2 (version <span class="string">"2.4.0"</span>)</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SHADOW</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SHADOW - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SIGN_COMPARE</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SIGN_COMPARE - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNINITIALIZED</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNINITIALIZED - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SWITCH</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SWITCH - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_PARENTHESES</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_PARENTHESES - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_ARRAY_BOUNDS</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_ARRAY_BOUNDS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_EXTRA</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_EXTRA - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_DEPRECATED_DECLARATIONS</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_DEPRECATED_DECLARATIONS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_MISLEADING_INDENTATION</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_MISLEADING_INDENTATION - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_DEPRECATED</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_DEPRECATED - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SUGGEST_OVERRIDE</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SUGGEST_OVERRIDE - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_INCONSISTENT_MISSING_OVERRIDE</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_INCONSISTENT_MISSING_OVERRIDE - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_IMPLICIT_FALLTHROUGH</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_IMPLICIT_FALLTHROUGH - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_TAUTOLOGICAL_COMPARE</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_TAUTOLOGICAL_COMPARE - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_REORDER</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_REORDER - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_RESULT</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_RESULT - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_IMPLICIT_CONST_INT_FLOAT_CONVERSION</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_IMPLICIT_CONST_INT_FLOAT_CONVERSION - Success</span><br><span class="line">-- Could not find OpenBLAS include. Turning OpenBLAS_FOUND off</span><br><span class="line">-- Could not find OpenBLAS lib. Turning OpenBLAS_FOUND off</span><br><span class="line">-- Could NOT find Atlas (missing: Atlas_CBLAS_INCLUDE_DIR Atlas_CLAPACK_INCLUDE_DIR Atlas_BLAS_LIBRARY) </span><br><span class="line">-- Looking <span class="keyword">for</span> sgemm_</span><br><span class="line">-- Looking <span class="keyword">for</span> sgemm_ - not found</span><br><span class="line">-- Found Threads: TRUE  </span><br><span class="line">-- Looking <span class="keyword">for</span> dgemm_</span><br><span class="line">-- Looking <span class="keyword">for</span> dgemm_ - found</span><br><span class="line">-- Found BLAS: /Library/Developer/CommandLineTools/SDKs/MacOSX12.1.sdk/System/Library/Frameworks/Accelerate.framework  </span><br><span class="line">-- Looking <span class="keyword">for</span> cheev_</span><br><span class="line">-- Looking <span class="keyword">for</span> cheev_ - found</span><br><span class="line">-- Found LAPACK: /Library/Developer/CommandLineTools/SDKs/MacOSX12.1.sdk/System/Library/Frameworks/Accelerate.framework;-lm;-ldl  </span><br><span class="line">-- LAPACK(LAPACK/Apple): LAPACK_LIBRARIES: /Library/Developer/CommandLineTools/SDKs/MacOSX12.1.sdk/System/Library/Frameworks/Accelerate.framework;-lm;-ldl</span><br><span class="line">-- Looking <span class="keyword">for</span> Accelerate/Accelerate.h</span><br><span class="line">-- Looking <span class="keyword">for</span> Accelerate/Accelerate.h - found</span><br><span class="line">-- Looking <span class="keyword">for</span> Accelerate/Accelerate.h</span><br><span class="line">-- Looking <span class="keyword">for</span> Accelerate/Accelerate.h - found</span><br><span class="line">-- LAPACK(LAPACK/Apple): Support is enabled.</span><br></pre></td></tr></table></figure>
<p>MacOS에서 지원하는 BLAS와 LAPACK이 따로 있다고 들었다.</p>
<p>그걸 마지막 줄에서 실제로 보게 되었다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_LOCAL_TYPEDEFS</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_LOCAL_TYPEDEFS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SIGN_PROMO</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SIGN_PROMO - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_TAUTOLOGICAL_UNDEFINED_COMPARE</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_TAUTOLOGICAL_UNDEFINED_COMPARE - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_IGNORED_QUALIFIERS</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_IGNORED_QUALIFIERS - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_FUNCTION</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_FUNCTION - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_CONST_VARIABLE</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_CONST_VARIABLE - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SHORTEN_64_TO_32</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_SHORTEN_64_TO_32 - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_INVALID_OFFSETOF</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_INVALID_OFFSETOF - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_ENUM_COMPARE_SWITCH</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_ENUM_COMPARE_SWITCH - Success</span><br><span class="line">-- Could NOT find JNI (missing: JAVA_INCLUDE_PATH JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH) </span><br><span class="line">-- VTK is not found. Please <span class="built_in">set</span> -DVTK_DIR <span class="keyword">in</span> CMake to VTK build directory, or to VTK install subdirectory with VTKConfig.cmake file</span><br><span class="line">-- Looking <span class="keyword">for</span> dlerror <span class="keyword">in</span> dl</span><br><span class="line">-- Looking <span class="keyword">for</span> dlerror <span class="keyword">in</span> dl - found</span><br><span class="line">-- ADE: Download: v0.1.1f.zip</span><br><span class="line">-- Allocator metrics storage <span class="built_in">type</span>: <span class="string">'int'</span></span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.sse2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.sse3.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.ssse3.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.sse4_1.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.sse4_2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.avx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.avx2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin128.avx512_skx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin256.avx2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin256.avx512_skx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/core/<span class="built_in">test</span>/test_intrin512.avx512_skx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: modules/imgproc/src/corner.avx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: modules/imgproc/src/imgwarp.avx2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: modules/imgproc/src/imgwarp.sse4_1.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: modules/imgproc/src/resize.avx2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: modules/imgproc/src/resize.sse4_1.cpp</span><br></pre></td></tr></table></figure>
<p>오… M1 Chip이다보니 SSE와 AVX를 쓸 일이 없어서 x86 Intel CPU 가속 관련 코드를 빌드하지 않는 모습을 볼 수 있다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- Registering hook <span class="string">'INIT_MODULE_SOURCES_opencv_dnn'</span>: /Users/hyunggi/opencv/modules/dnn/cmake/hooks/INIT_MODULE_SOURCES_opencv_dnn.cmake</span><br><span class="line">-- opencv_dnn: filter out ocl4dnn <span class="built_in">source</span> code</span><br><span class="line">-- opencv_dnn: filter out cuda4dnn <span class="built_in">source</span> code</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/dnn/layers/layers_common.avx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/dnn/layers/layers_common.avx2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/dnn/layers/layers_common.avx512_skx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/dnn/layers/layers_common.rvv.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/dnn/int8layers/layers_common.avx2.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: &lt;BUILD&gt;/modules/dnn/int8layers/layers_common.avx512_skx.cpp</span><br><span class="line">-- Excluding from <span class="built_in">source</span> files list: modules/features2d/src/fast.avx2.cpp</span><br></pre></td></tr></table></figure>
<p>다시 DNN 모듈에서도 AVX 관련 소스코드를 빌드하지 않는 모습을 볼 수 있다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-- imgcodecs: OpenEXR codec is disabled <span class="keyword">in</span> runtime. Details: https://github.com/opencv/opencv/issues/21326</span><br><span class="line">-- Performing Test HAVE_CXX_FOBJC_EXCEPTIONS</span><br><span class="line">-- Performing Test HAVE_CXX_FOBJC_EXCEPTIONS - Success</span><br><span class="line">-- highgui: using <span class="built_in">builtin</span> backend: COCOA</span><br><span class="line">-- Found <span class="string">'misc'</span> Python modules from /Users/hyunggi/opencv/modules/python/package/extra_modules</span><br><span class="line">-- Found <span class="string">'mat_wrapper;utils'</span> Python modules from /Users/hyunggi/opencv/modules/core/misc/python/package</span><br><span class="line">-- Found <span class="string">'gapi'</span> Python modules from /Users/hyunggi/opencv/modules/gapi/misc/python/package</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_OVERLOADED_VIRTUAL</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_OVERLOADED_VIRTUAL - Success</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_PRIVATE_FIELD</span><br><span class="line">-- Performing Test HAVE_CXX_WNO_UNUSED_PRIVATE_FIELD - Success</span><br><span class="line">-- Found <span class="string">'misc'</span> Python modules from /Users/hyunggi/opencv/modules/python/package/extra_modules</span><br><span class="line">-- Found <span class="string">'mat_wrapper;utils'</span> Python modules from /Users/hyunggi/opencv/modules/core/misc/python/package</span><br><span class="line">-- Found <span class="string">'gapi'</span> Python modules from /Users/hyunggi/opencv/modules/gapi/misc/python/package</span><br><span class="line">-- </span><br><span class="line">-- General configuration <span class="keyword">for</span> OpenCV 4.5.5-dev =====================================</span><br><span class="line">--   Version control:               4.5.5-80-g9cab808c5d</span><br><span class="line">-- </span><br><span class="line">--   Platform:</span><br><span class="line">--     Timestamp:                   2022-01-28T07:40:38Z</span><br><span class="line">--     Host:                        Darwin 21.2.0 arm64</span><br><span class="line">--     CMake:                       3.22.1</span><br><span class="line">--     CMake generator:             Ninja</span><br><span class="line">--     CMake build tool:            /opt/homebrew/bin/ninja</span><br><span class="line">--     Configuration:               Release</span><br><span class="line">-- </span><br><span class="line">--   CPU/HW features:</span><br><span class="line">--     Baseline:                    NEON FP16</span><br><span class="line">-- </span><br></pre></td></tr></table></figure>
<p>Host는 Darwin (i.e. MacOS)에 arm64 CPU 아키텍처를 찾은 것을 확인했다.</p>
<p>CPU/HW feature도 Baseline을 ARM Neon 가속을 적용한 것을 확인할 수 있는데, CPU 특징상 Floating point를 16비트로 표현한 것으로 가속을 하는 것을 확인할 수 있다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">--   C/C++:</span><br><span class="line">--     Built as dynamic libs?:      YES</span><br><span class="line">--     C++ standard:                11</span><br><span class="line">--     C++ Compiler:                /Library/Developer/CommandLineTools/usr/bin/c++  (ver 13.0.0.13000027)</span><br><span class="line">--     C++ flags (Release):         -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Wno-delete-non-virtual-dtor -Wno-unnamed-type-template-args -Wno-comment -fdiagnostics-show-option -Qunused-arguments -Wno-semicolon-before-method-body -ffunction-sections -fdata-sections    -fvisibility=hidden -fvisibility-inlines-hidden -O3 -DNDEBUG  -DNDEBUG</span><br><span class="line">--     C++ flags (Debug):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Wno-delete-non-virtual-dtor -Wno-unnamed-type-template-args -Wno-comment -fdiagnostics-show-option -Qunused-arguments -Wno-semicolon-before-method-body -ffunction-sections -fdata-sections    -fvisibility=hidden -fvisibility-inlines-hidden -g  -O0 -DDEBUG -D_DEBUG</span><br><span class="line">--     C Compiler:                  /Library/Developer/CommandLineTools/usr/bin/cc</span><br><span class="line">--     C flags (Release):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Wno-delete-non-virtual-dtor -Wno-unnamed-type-template-args -Wno-comment -fdiagnostics-show-option -Qunused-arguments -Wno-semicolon-before-method-body -ffunction-sections -fdata-sections    -fvisibility=hidden -fvisibility-inlines-hidden -O3 -DNDEBUG  -DNDEBUG</span><br><span class="line">--     C flags (Debug):             -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Wno-delete-non-virtual-dtor -Wno-unnamed-type-template-args -Wno-comment -fdiagnostics-show-option -Qunused-arguments -Wno-semicolon-before-method-body -ffunction-sections -fdata-sections    -fvisibility=hidden -fvisibility-inlines-hidden -g  -O0 -DDEBUG -D_DEBUG</span><br><span class="line">--     Linker flags (Release):      -Wl,-dead_strip  </span><br><span class="line">--     Linker flags (Debug):        -Wl,-dead_strip  </span><br><span class="line">--     ccache:                      NO</span><br><span class="line">--     Precompiled headers:         NO</span><br><span class="line">--     Extra dependencies:</span><br><span class="line">--     3rdparty dependencies:</span><br><span class="line">-- </span><br><span class="line">--   OpenCV modules:</span><br><span class="line">--     To be built:                 calib3d core dnn features2d flann gapi highgui imgcodecs imgproc ml objdetect photo python2 stitching ts video videoio</span><br><span class="line">--     Disabled:                    world</span><br><span class="line">--     Disabled by dependency:      -</span><br><span class="line">--     Unavailable:                 java python3</span><br><span class="line">--     Applications:                tests perf_tests apps</span><br><span class="line">--     Documentation:               NO</span><br><span class="line">--     Non-free algorithms:         NO</span><br><span class="line">-- </span><br><span class="line">--   GUI:                           COCOA</span><br><span class="line">--     Cocoa:                       YES</span><br><span class="line">--     VTK support:                 NO</span><br><span class="line">-- </span><br><span class="line">--   Media I/O: </span><br><span class="line">--     ZLib:                        build (ver 1.2.11)</span><br><span class="line">--     JPEG:                        build-libjpeg-turbo (ver 2.1.2-62)</span><br><span class="line">--     WEBP:                        build (ver encoder: 0x020f)</span><br><span class="line">--     webp:                         build (ver 1.6.37)</span><br><span class="line">--     TIFF:                        build (ver 42 - 4.2.0)</span><br><span class="line">--     JPEG 2000:                   build (ver 2.4.0)</span><br><span class="line">--     OpenEXR:                     build (ver 2.3.0)</span><br><span class="line">--     HDR:                         YES</span><br><span class="line">--     SUNRASTER:                   YES</span><br><span class="line">--     PXM:                         YES</span><br><span class="line">--     PFM:                         YES</span><br><span class="line">-- </span><br><span class="line">--   Video I/O:</span><br><span class="line">--     DC1394:                      NO</span><br><span class="line">--     FFMPEG:                      NO</span><br><span class="line">--       avcodec:                   NO</span><br><span class="line">--       avformat:                  NO</span><br><span class="line">--       avutil:                    NO</span><br><span class="line">--       swscale:                   NO</span><br><span class="line">--       avresample:                NO</span><br><span class="line">--     GStreamer:                   NO</span><br><span class="line">--     AVFoundation:                YES</span><br><span class="line">-- </span><br><span class="line">--   Parallel framework:            GCD</span><br><span class="line">-- </span><br><span class="line">--   Trace:                         YES (with Intel ITT)</span><br><span class="line">-- </span><br><span class="line">--   Other third-party libraries:</span><br><span class="line">--     Lapack:                      YES (/Library/Developer/CommandLineTools/SDKs/MacOSX12.1.sdk/System/Library/Frameworks/Accelerate.framework -lm -ldl)</span><br><span class="line">--     Eigen:                       NO</span><br><span class="line">--     Custom HAL:                  YES (carotene (ver 0.0.1))</span><br><span class="line">--     Protobuf:                    build (3.19.1)</span><br><span class="line">-- </span><br><span class="line">--   OpenCL:                        YES (no extra features)</span><br><span class="line">--     Include path:                NO</span><br><span class="line">--     Link libraries:              -framework OpenCL</span><br><span class="line">-- </span><br><span class="line">--   Python 2:</span><br><span class="line">--     Interpreter:                 /usr/bin/python2.7 (ver 2.7.18)</span><br><span class="line">--     Libraries:                   /usr/lib/libpython2.7.dylib (ver 2.7.18)</span><br><span class="line">--     numpy:                       /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy/core/include (ver 1.8.0rc1)</span><br><span class="line">--     install path:                lib/python2.7/site-packages/cv2/python-2.7</span><br><span class="line">-- </span><br><span class="line">--   Python (<span class="keyword">for</span> build):            /usr/bin/python2.7</span><br><span class="line">-- </span><br><span class="line">--   Java:                          </span><br><span class="line">--     ant:                         NO</span><br><span class="line">--     JNI:                         NO</span><br><span class="line">--     Java wrappers:               NO</span><br><span class="line">--     Java tests:                  NO</span><br><span class="line">-- </span><br><span class="line">--   Install to:                    /Users/hyunggi/opencv/install</span><br><span class="line">-- -----------------------------------------------------------------</span><br><span class="line">-- </span><br><span class="line">-- Configuring <span class="keyword">done</span></span><br><span class="line">-- Generating <span class="keyword">done</span></span><br><span class="line">-- Build files have been written to: /Users/hyunggi/opencv/build</span><br></pre></td></tr></table></figure>
<h2 id="빌드"><a href="#빌드" class="headerlink" title="빌드"></a>빌드</h2><p>아래 커맨드를 이용해서 빌드했다. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time ninja</span><br></pre></td></tr></table></figure>
<p>참고로 M1 vs x86 워크스테이션 두개 설정에서 빌드를 해봤는데, 충격적인 결과가 나왔다.</p>
<p>결과는 다음 <a href="www.cv-learn.com/20220130-m1-opencv-build-sse/">링크</a>에…</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Apple/" rel="tag"># Apple</a>
              <a href="/tags/OpenCV/" rel="tag"># OpenCV</a>
              <a href="/tags/Macbook-Pro/" rel="tag"># Macbook Pro</a>
              <a href="/tags/M1/" rel="tag"># M1</a>
              <a href="/tags/ARM/" rel="tag"># ARM</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/20220128-modern-javascript/" rel="prev" title="Modern javascript 튜토리얼 레퍼런스">
                  <i class="fa fa-angle-left"></i> Modern javascript 튜토리얼 레퍼런스
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/20220130-nonsan/" rel="next" title="전문연구요원 논산 생활 꿀팁">
                  전문연구요원 논산 생활 꿀팁 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="changh95/blog_comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">cv-learn</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
